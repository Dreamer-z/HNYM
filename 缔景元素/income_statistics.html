<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telphone=no, email=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="robots" content="index,follow" />
    <title>收益统计</title>
    <link rel="stylesheet" href="./css/init.css">
    <link rel="stylesheet" href="./css/all.css">
    <link rel="stylesheet" href="./css/public.css">
    <link rel="stylesheet" href="./css/income.css">
    <script src="./js/jquery-1.8.3.min.js"></script>
    <script src="./js/adaptive.js"></script>
    <script type="text/javascript">
        window['adaptive'].desinWidth = 750;
        window['adaptive'].baseFont = 28;
        window['adaptive'].maxWidth = 480;
        window['adaptive'].scaleType = 1;
        window['adaptive'].init();
    </script>
</head>

<body>
    <div class="income_statistics">
        <div class="total">
            <div class="title">总收益(积分)</div>
            <h2 class="totalNum">3300</h2>
            <span class="withdraw">提现</span>
        </div>
        <div class="title bg-fff">收益记录</div>
        <div class="record-list">
            <div class="recordLi">
                <div class="stateTime">
                    <p class="state">推荐好友</p>
                    <p class="time">2017.10.31</p>
                </div>
                <div class="price">+150</div>
            </div>
            <div class="recordLi">
                <div class="stateTime">
                    <p class="state">充值</p>
                    <p class="time">2017.10.31</p>
                </div>
                <div class="price">+50</div>
            </div>
            <div class="recordLi">
                <div class="stateTime">
                    <p class="state">推荐好友</p>
                    <p class="time">2017.10.31</p>
                </div>
                <div class="price">+150</div>
            </div>
        </div>
        <div class="fullscreen tc1">
            <div class="box">
                <div class="cont">
                    <div class="title">当前积分：<span>3300</span></div>
                    <div class="inp">
                        <input type="number" placeholder="请输入提现积分">
                    </div>
                    <span class="comfirm">确认提现</span>
                </div>
            </div>
        </div>
        <div class="fullscreen tc2">
            <div class="box">
                <div class="cont">
                    <div class="status"></div>
                    <div class="result"></div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="./js/all.js"></script>
<script>
    $(".withdraw").click(function(ev) {
        ev.stopPropagation();
        $(".tc1").fadeIn(100);
        $(document).click(function(ev) {
            if (ev.target == $(".tc1 .cont")[0] || ev.target == $(".tc1 .cont .title")[0] || ev.target == $(".tc1 .cont .inp")[0] || ev.target == $(".tc1 .cont .inp input")[0] || ev.target == $(".tc1 .cont .comfirm")[0]) {
                return;
            } else {
                $(".tc1").fadeOut(100);
            }
        });
    });
    var sta = true;
    $(".comfirm").click(function(ev) {
        ev.stopPropagation();
        $(".tc1").hide();
        $(".tc2").fadeIn(100);
        a();
        // 结果隐藏方式一
        setTimeout(() => {
            $(".tc2").fadeOut(100);
        }, 1500);
        // 结果隐藏方式二
        // $(document).click(function(ev) {
        //     if (ev.target == $(".tc2 .cont")[0] || ev.target == $(".tc2 .cont .status")[0] || ev.target == $(".tc2 .cont .result")[0]) {
        //         return;
        //     } else {
        //         $(".tc2").fadeOut(100);
        //     }
        // });
    });

    function a() {
        if (sta == true) {
            $(".status").removeClass("failure");
            $(".status").addClass("success");
            $(".result").text("提现成功！");
        } else {
            $(".status").removeClass("success");
            $(".status").addClass("failure");
            $(".result").text("提现失败！");
        };
    }
</script>

</html>